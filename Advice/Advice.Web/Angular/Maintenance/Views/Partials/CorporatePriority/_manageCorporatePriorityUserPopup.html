<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    <h4 class="modal-title">Add/Remove Corporate Priority User</h4>
</div>
<div class="modal-body scrollable-popup">
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-3"></div>
            <div class="col-sm-5">
                <multiselect name="user" multiple="false"
                             ng-model="selectedUser.User"
                             options="user.DisplayName for user in userList"
                             defaultlabel="Select User"
                             change="selectedUserChange()">
                </multiselect>
            </div>
            <!--<div class="col-sm-1"></div>-->
            <div class="col-sm-1">
                <button class="btn btn-primary" type="button" ng-click="addCorporatePriorityUser()">Add</button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-3">&nbsp;</div>
            <div class="col-sm-7">
                <p ng-if="doesUserExist" class="red">This User has already been added</p>
                <p ng-if="fields.user.errors.Required" class="red">Please select a user to add</p>
                <p ng-if="hasUserAdded" class="green">The user has been added to the list</p>
            </div>
        </div>
    </div>
    <table class="table table-modal table-striped table-hover">
        <thead>
            <tr>
                <th class="col-xs-2 text-center">User Name</th>
                <th class="col-xs-1"></th>
            </tr>
        </thead>
        <tr ng-repeat="corporatePriorityUser in corporatePriorityUserList">
            <td class="col-xs-2">{{corporatePriorityUser.UserName}}</td>
            <td class="col-xs-1">
                <confirmation-link caption="Delete"
                                   type="anchorwithspinner"
                                   spin-var="spinner"
                                   css-class="btn btn-primary"
                                   confirmation-title="Confirm"
                                   confirmation-message="Are you sure you want to delete this record?"
                                   on-yes="deleteCorporatePriorityUser(corporatePriorityUser)">
                </confirmation-link>
            </td>
        </tr>
    </table>
</div>
<div class="modal-footer">
    <div class="row">
        <div class="col-sm-12">
            <div class="col-sm-2">&nbsp;</div>
            <div class="col-sm-7 text-center">
                <p ng-if="hasUserDeleted" class="green">The user {{deletedUserName}} has been deleted</p>
            </div>
        </div>
    </div>
    <button class="btn btn-default" ng-click="cancel()">OK</button>
</div>